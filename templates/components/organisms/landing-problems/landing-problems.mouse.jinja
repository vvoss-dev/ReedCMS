{# Landing Problems Organism - Restored dynamic logic from Legacy #}
{% set cards = ["1", "2", "3"] %}

<section class="section problems padding-y-5 padding-x-4">
    <article class="breakbox grid-1">
        <div class="section-header padding-left-2 margin-bottom-1">
            <h2>{{ 'landing.problems.title' | text('auto') }}</h2>
            <p class="description">{{ 'landing.problems.subtitle' | text('auto') }}</p>
        </div>

        {# Mouse mode typically has screen/wide breakpoints #}
        {% set grid_classes = "grid-1 gap-y-2" %}

        {% if client.breakpoint == "tablet" %}
            {% set grid_classes = "grid-3 gap-x-1" %}
        {% elif client.breakpoint == "screen" or client.breakpoint == "wide" %}
            {% set grid_classes = "grid-3 gap-x-2" %}
        {% endif %}

        <div class="problem-grid {{ grid_classes }}">
            {% for card_num in cards %}
                {% set number_key = "LANDING_PROBLEMS_CARD" ~ card_num ~ "_NUMBER" %}
                {% set title_key = "LANDING_PROBLEMS_CARD" ~ card_num ~ "_TITLE" %}
                {% set desc_key = "LANDING_PROBLEMS_CARD" ~ card_num ~ "_DESCRIPTION" %}
                <div class="problem-card padding-2">
                    <div class="problem-number">{{ number_key | text('auto') }}</div>
                    <h3 class="problem-title margin-y-2">{{ title_key | text('auto') }}</h3>
                    <p>{{ desc_key | text('auto') }}</p>
                </div>
            {% endfor %}
        </div>
    </article>
</section>