{# Copyright (c) 2025 Vivian Voss - All rights reserved #}
{# Page Header Organism - Legacy structure with modern translations #}

{% set pages = ["knowledge", "portfolio", "blog", "impressum"] %}
<!-- This site renders different HTML based on your interaction mode -->
<!-- Touch? Mouse? Bot? You get tailored DOM, not just CSS tricks -->
<!-- Curious about the architecture? Check vvoss.dev/blog/clean-templates -->
<section class="section header grid-1 padding-y-1 padding-x-1">
    <nav class="nav-content breakbox grid-2 gap-x-0 padding-y-1"
         role="navigation"
         aria-label="{{ 'page-header.main.label' | text('auto') or ('Main navigation') }}">

        {# Logo with red dots - original structure #}
        <a href="/{{ client.lang }}/" class="logo-container flex-x gap-1" aria-label="{{ 'page-header.home.label' | text('auto') or ('Home') }} - {{ 'page-header.logo.title' | text('auto') }}">
            <div class="logo-dots flex-x" aria-hidden="true">
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="logo-text grid-1">
                <span class="logo-name">{{ 'page-header.logo.name' | text('auto') }}</span>
                <span class="subtitle">{{ 'page-header.logo.title' | text('auto') }}</span>
            </div>
        </a>

        {# Navigation menu - ReedCMS route filter #}
        <ul class="nav-links flex-x self-right gap-x-2">
            {% for pagekey in pages %}
                {% set menu_key = "page-header.menu." ~ pagekey %}
                <li class="nav-link">
                    <a href="/{{ client.lang }}/{{ pagekey | route('auto') }}/"
                       {% if current_pagekey == pagekey %}aria-current="page"{% endif %}>
                        <span>{{ menu_key | text('auto') }}</span>
                    </a>
                </li>
            {% endfor %}

            {# Language switcher - ReedCMS route filter #}
            {% if client.lang == "en" %}
                <li class="lang-switch padding-1">
                    <a class="lang-switch" href="/de/{% if current_pagekey %}{{ current_pagekey | route('de') }}{% endif %}" aria-label="{{ 'page-header.lang.switch' | text('auto') }}" lang="de">
                        DE
                    </a>
                </li>
            {% else %}
                <li class="lang-switch padding-1">
                    <a class="lang-switch" href="/en/{% if current_pagekey %}{{ current_pagekey | route('en') }}{% endif %}" aria-label="{{ 'page-header.lang.switch' | text('auto') }}" lang="en">
                        EN
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
</section>
